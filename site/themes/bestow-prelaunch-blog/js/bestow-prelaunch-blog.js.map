{"version":3,"sources":["collage-plus.js","zoom.js","jabbascripts.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5RA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bestow-prelaunch-blog.js","sourcesContent":["/*!\n *\n * jQuery collagePlus Plugin v0.3.3\n * https://github.com/ed-lea/jquery-collagePlus\n *\n * Copyright 2012, Ed Lea twitter.com/ed_lea\n *\n * built for http://qiip.me\n *\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://www.opensource.org/licenses/mit-license.php\n * http://www.opensource.org/licenses/GPL-2.0\n *\n */\n\n\n\n\n\n;(function( $ ) {\n\n\n    $.fn.collagePlus = function( options ) {\n\n        return this.each(function() {\n\n            /*\n             *\n             * set up vars\n             *\n             */\n\n            // track row width by adding images, padding and css borders etc\n            var row         = 0,\n            // collect elements to be re-sized in current row\n                elements    = [],\n            // track the number of rows generated\n                rownum = 1,\n            // needed for creating some additional defaults that are actually obtained\n            // from the dom, which maybe doesn't make them defaults ?!\n                $this = $(this);\n\n\n            // width of the area the collage will be in\n            $.fn.collagePlus.defaults.albumWidth    = $this.width();\n            // padding between the images. Using padding left as we assume padding is even all the way round\n            $.fn.collagePlus.defaults.padding       = parseFloat( $this.css('padding-left') );\n            // object that contains the images to collage\n            $.fn.collagePlus.defaults.images        = $this.children();\n\n            var settings = $.extend({}, $.fn.collagePlus.defaults, options);\n\n            settings.images.each(\n                function(index){\n\n                    /*\n                     *\n                     * Cache selector\n                     * Even if first child is not an image the whole sizing is based on images\n                     * so where we take measurements, we take them on the images\n                     *\n                     */\n                    var $this = $(this),\n                        $img  = ($this.is(\"img\")) ? $this : $(this).find(\"img\");\n\n\n\n                    /*\n                     *\n                     * get the current image size. Get image size in this order\n                     *\n                     * 1. from <img> tag\n                     * 2. from data set from initial calculation\n                     * 3. after loading the image and checking it's actual size\n                     *\n                     */\n                    var w = (typeof $img.data(\"width\") != 'undefined') ? $img.data(\"width\") : $img.width(),\n                        h = (typeof $img.data(\"height\") != 'undefined') ? $img.data(\"height\") : $img.height();\n\n\n\n                    /*\n                     *\n                     * Get any current additional properties that may affect the width or height\n                     * like css borders for example\n                     *\n                     */\n                    var imgParams = getImgProperty($img);\n\n\n                    /*\n                     *\n                     * store the original size for resize events\n                     *\n                     */\n                    $img.data(\"width\", w);\n                    $img.data(\"height\", h);\n\n\n\n                    /*\n                     *\n                     * calculate the w/h based on target height\n                     * this is our ideal size, but later we'll resize to make it fit\n                     *\n                     */\n                    var nw = Math.ceil(w/h*settings.targetHeight),\n                        nh = Math.ceil(settings.targetHeight);\n\n                    /*\n                     *\n                     * Keep track of which images are in our row so far\n                     *\n                     */\n                    elements.push([this, nw, nh, imgParams['w'], imgParams['h']]);\n\n                    /*\n                     *\n                     * calculate the width of the element including extra properties\n                     * like css borders\n                     *\n                     */\n                    row += nw + imgParams['w'] + settings.padding;\n\n                    /*\n                     *\n                     * if the current row width is wider than the parent container\n                     * it's time to make a row out of our images\n                     *\n                     */\n                    if( row > settings.albumWidth && elements.length != 0 ){\n\n                        // call the method that calculates the final image sizes\n                        // remove one set of padding as it's not needed for the last image in the row\n                        resizeRow(elements, (row - settings.padding), settings, rownum);\n\n                        // reset our row\n                        delete row;\n                        delete elements;\n                        row         = 0;\n                        elements    = [];\n                        rownum      += 1;\n                    }\n\n\n                    /*\n                     *\n                     * if the images left are not enough to make a row\n                     * then we'll force them to make one anyway\n                     *\n                     */\n                    if ( settings.images.length-1 == index && elements.length != 0){\n                        resizeRow(elements, row, settings, rownum);\n\n                        // reset our row\n                        delete row;\n                        delete elements;\n                        row         = 0;\n                        elements    = [];\n                        rownum      += 1;\n                    }\n                }\n            );\n\n        });\n\n        function resizeRow( obj, row, settings, rownum) {\n\n            /*\n             *\n             * How much bigger is this row than the available space?\n             * At this point we have adjusted the images height to fit our target height\n             * so the image size will already be different from the original.\n             * The resizing we're doing here is to adjust it to the album width.\n             *\n             * We also need to change the album width (basically available space) by\n             * the amount of padding and css borders for the images otherwise\n             * this will skew the result.\n             *\n             * This is because padding and borders remain at a fixed size and we only\n             * need to scale the images.\n             *\n             */\n            var imageExtras         = (settings.padding * (obj.length - 1)) + (obj.length * obj[0][3]),\n                albumWidthAdjusted  = settings.albumWidth - imageExtras,\n                overPercent         = albumWidthAdjusted / (row - imageExtras),\n                // start tracking our width with know values that will make up the total width\n                // like borders and padding\n                trackWidth          = imageExtras,\n                // guess whether this is the last row in a set by checking if the width is less\n                // than the parent width.\n                lastRow             = (row < settings.albumWidth  ? true : false);\n\n\n\n\n\n            /*\n             * Resize the images by the above % so that they'll fit in the album space\n             */\n            for (var i = 0; i < obj.length; i++) {\n\n\n\n                var $obj        = $(obj[i][0]),\n                    fw          = Math.floor(obj[i][1] * overPercent),\n                    fh          = Math.floor(obj[i][2] * overPercent),\n                // if the element is the last in the row,\n                // don't apply right hand padding (this is our flag for later)\n                    isNotLast   = !!(( i < obj.length - 1 ));\n\n                /*\n                 * Checking if the user wants to not stretch the images of the last row to fit the\n                 * parent element size\n                 */\n                if(settings.allowPartialLastRow === true && lastRow === true){\n                   fw = obj[i][1];\n                   fh = obj[i][2];\n                }\n\n\n                /*\n                 *\n                 * Because we use % to calculate the widths, it's possible that they are\n                 * a few pixels out in which case we need to track this and adjust the\n                 * last image accordingly\n                 *\n                 */\n                trackWidth += fw;\n\n\n                /*\n                 *\n                 * here we check if the combined images are exactly the width\n                 * of the parent. If not then we add a few pixels on to make\n                 * up the difference.\n                 *\n                 * This will alter the aspect ratio of the image slightly, but\n                 * by a noticable amount.\n                 *\n                 * If the user doesn't want full width last row, we check for that here\n                 *\n                 */\n                if(!isNotLast && trackWidth < settings.albumWidth){\n                    if(settings.allowPartialLastRow === true && lastRow === true){\n                        fw = fw;\n                    }else{\n                        fw = fw + (settings.albumWidth - trackWidth);\n                    }\n                }\n\n                fw--;\n\n                /*\n                 *\n                 * We'll be doing a few things to the image so here we cache the image selector\n                 *\n                 *\n                 */\n                var $img = ( $obj.is(\"img\") ) ? $obj : $obj.find(\"img\");\n\n                /*\n                 *\n                 * Set the width of the image and parent element\n                 * if the resized element is not an image, we apply it to the child image also\n                 *\n                 * We need to check if it's an image as the css borders are only measured on\n                 * images. If the parent is a div, we need make the contained image smaller\n                 * to accommodate the css image borders.\n                 *\n                 */\n                $img.width(fw);\n                if( !$obj.is(\"img\") ){\n                    $obj.width(fw + obj[i][3]);\n                }\n\n\n                /*\n                 *\n                 * Set the height of the image\n                 * if the resized element is not an image, we apply it to the child image also\n                 *\n                 */\n                $img.height(fh);\n                if( !$obj.is(\"img\") ){\n                    $obj.height(fh + obj[i][4]);\n                }\n\n\n                /*\n                 *\n                 * Apply the css extras like padding\n                 *\n                 */\n                applyModifications($obj, isNotLast, settings);\n\n\n                /*\n                 *\n                 * Assign the effect to show the image\n                 * Default effect is using jquery and not CSS3 to support more browsers\n                 * Wait until the image is loaded to do this\n                 *\n                 */\n\n                $img\n                    .one('load', function (target) {\n                    return function(){\n                        if( settings.effect == 'default'){\n                            target.animate({opacity: '1'},{duration: settings.fadeSpeed});\n                        } else {\n                            if(settings.direction == 'vertical'){\n                                var sequence = (rownum <= 10  ? rownum : 10);\n                            } else {\n                                var sequence = (i <= 9  ? i+1 : 10);\n                            }\n                            /* Remove old classes with the \"effect-\" name */\n                            target.removeClass(function (index, css) {\n                                return (css.match(/\\beffect-\\S+/g) || []).join(' ');\n                            });\n                            target.addClass(settings.effect);\n                            target.addClass(\"effect-duration-\" + sequence);\n                        }\n                    }\n                    }($obj))\n                    /*\n                     * fix for cached or loaded images\n                     * For example if images are loaded in a \"window.load\" call we need to trigger\n                     * the load call again\n                     */\n                    .each(function() {\n                            if(this.complete) $(this).trigger('load');\n                    });\n\n        }\n\n\n\n\n\n        }\n\n        /*\n         *\n         * This private function applies the required css to space the image gallery\n         * It applies it to the parent element so if an image is wrapped in a <div> then\n         * the css is applied to the <div>\n         *\n         */\n        function applyModifications($obj, isNotLast, settings) {\n            var css = {\n                    // Applying padding to element for the grid gap effect\n                    'margin-bottom'     : settings.padding + \"px\",\n                    'margin-right'      : (isNotLast) ? settings.padding + \"px\" : \"0px\",\n                    // Set it to an inline-block by default so that it doesn't break the row\n                    'display'           : settings.display,\n                    // Set vertical alignment otherwise you get 4px extra padding\n                    'vertical-align'    : \"bottom\",\n                    // Hide the overflow to hide the caption\n                    'overflow'          : \"hidden\"\n                };\n\n            return $obj.css(css);\n        }\n\n\n        /*\n         *\n         * This private function calculates any extras like padding, border associated\n         * with the image that will impact on the width calculations\n         *\n         */\n        function getImgProperty( img )\n        {\n            $img = $(img);\n            var params =  new Array();\n            params[\"w\"] = (parseFloat($img.css(\"border-left-width\")) + parseFloat($img.css(\"border-right-width\")));\n            params[\"h\"] = (parseFloat($img.css(\"border-top-width\")) + parseFloat($img.css(\"border-bottom-width\")));\n            return params;\n        }\n\n    };\n\n    $.fn.collagePlus.defaults = {\n        // the ideal height you want your images to be\n        'targetHeight'          : 400,\n        // how quickly you want images to fade in once ready can be in ms, \"slow\" or \"fast\"\n        'fadeSpeed'             : \"fast\",\n        // how the resized block should be displayed. inline-block by default so that it doesn't break the row\n        'display'               : \"inline-block\",\n        // which effect you want to use for revealing the images (note CSS3 browsers only),\n        'effect'                : 'default',\n        // effect delays can either be applied per row to give the impression of descending appearance\n        // or horizontally, so more like a flock of birds changing direction\n        'direction'             : 'vertical',\n        // Sometimes there is just one image on the last row and it gets blown up to a huge size to fit the\n        // parent div width. To stop this behaviour, set this to true\n        'allowPartialLastRow'   : false\n    };\n\n})( jQuery );","/**\n * zoom.js - It's the best way to zoom an image\n * @version v0.0.2\n * @link https://github.com/fat/zoom.js\n * @license MIT\n */\n\n+function ($) { \"use strict\";\n\n  /**\n   * The zoom service\n   */\n  function ZoomService () {\n    this._activeZoom            =\n    this._initialScrollPosition =\n    this._initialTouchPosition  =\n    this._touchMoveListener     = null\n\n    this._$document = $(document)\n    this._$window   = $(window)\n    this._$body     = $(document.body)\n\n    this._boundClick = $.proxy(this._clickHandler, this)\n  }\n\n  ZoomService.prototype.listen = function () {\n    this._$body.on('click', '[data-action=\"zoom\"]', $.proxy(this._zoom, this))\n  }\n\n  ZoomService.prototype._zoom = function (e) {\n    var target = e.target\n\n    if (!target || target.tagName != 'IMG') return\n\n    if (this._$body.hasClass('zoom-overlay-open')) return\n\n    if (e.metaKey || e.ctrlKey) {\n      return window.open((e.target.getAttribute('data-original') || e.target.src), '_blank')\n    }\n\n    if (target.width >= ($(window).width() - Zoom.OFFSET)) return\n\n    this._activeZoomClose(true)\n\n    this._activeZoom = new Zoom(target)\n    this._activeZoom.zoomImage()\n\n    // todo(fat): probably worth throttling this\n    this._$window.on('scroll.zoom', $.proxy(this._scrollHandler, this))\n\n    this._$document.on('keyup.zoom', $.proxy(this._keyHandler, this))\n    this._$document.on('touchstart.zoom', $.proxy(this._touchStart, this))\n\n    // we use a capturing phase here to prevent unintended js events\n    // sadly no useCapture in jquery api (http://bugs.jquery.com/ticket/14953)\n    if (document.addEventListener) {\n      document.addEventListener('click', this._boundClick, true)\n    } else {\n      document.attachEvent('onclick', this._boundClick, true)\n    }\n\n    if ('bubbles' in e) {\n      if (e.bubbles) e.stopPropagation()\n    } else {\n      // Internet Explorer before version 9\n      e.cancelBubble = true\n    }\n  }\n\n  ZoomService.prototype._activeZoomClose = function (forceDispose) {\n    if (!this._activeZoom) return\n\n    if (forceDispose) {\n      this._activeZoom.dispose()\n    } else {\n      this._activeZoom.close()\n    }\n\n    this._$window.off('.zoom')\n    this._$document.off('.zoom')\n\n    document.removeEventListener('click', this._boundClick, true)\n\n    this._activeZoom = null\n  }\n\n  ZoomService.prototype._scrollHandler = function (e) {\n    if (this._initialScrollPosition === null) this._initialScrollPosition = $(window).scrollTop()\n    var deltaY = this._initialScrollPosition - $(window).scrollTop()\n    if (Math.abs(deltaY) >= 40) this._activeZoomClose()\n  }\n\n  ZoomService.prototype._keyHandler = function (e) {\n    if (e.keyCode == 27) this._activeZoomClose()\n  }\n\n  ZoomService.prototype._clickHandler = function (e) {\n    if (e.preventDefault) e.preventDefault()\n    else event.returnValue = false\n\n    if ('bubbles' in e) {\n      if (e.bubbles) e.stopPropagation()\n    } else {\n      // Internet Explorer before version 9\n      e.cancelBubble = true\n    }\n\n    this._activeZoomClose()\n  }\n\n  ZoomService.prototype._touchStart = function (e) {\n    this._initialTouchPosition = e.touches[0].pageY\n    $(e.target).on('touchmove.zoom', $.proxy(this._touchMove, this))\n  }\n\n  ZoomService.prototype._touchMove = function (e) {\n    if (Math.abs(e.touches[0].pageY - this._initialTouchPosition) > 10) {\n      this._activeZoomClose()\n      $(e.target).off('touchmove.zoom')\n    }\n  }\n\n\n  /**\n   * The zoom object\n   */\n  function Zoom (img) {\n    this._fullHeight      =\n    this._fullWidth       =\n    this._overlay         =\n    this._targetImageWrap = null\n\n    this._targetImage = img\n\n    this._$body = $(document.body)\n  }\n\n  Zoom.OFFSET = 80\n  Zoom._MAX_WIDTH = 2560\n  Zoom._MAX_HEIGHT = 4096\n\n  Zoom.prototype.zoomImage = function () {\n    var img = document.createElement('img')\n    img.onload = $.proxy(function () {\n      this._fullHeight = Number(img.height)\n      this._fullWidth = Number(img.width)\n      this._zoomOriginal()\n    }, this)\n    img.src = this._targetImage.src\n  }\n\n  Zoom.prototype._zoomOriginal = function () {\n    this._targetImageWrap           = document.createElement('div')\n    this._targetImageWrap.className = 'zoom-img-wrap'\n\n    this._targetImage.parentNode.insertBefore(this._targetImageWrap, this._targetImage)\n    this._targetImageWrap.appendChild(this._targetImage)\n\n    $(this._targetImage)\n      .addClass('zoom-img')\n      .attr('data-action', 'zoom-out')\n\n    this._overlay           = document.createElement('div')\n    this._overlay.className = 'zoom-overlay'\n\n    document.body.appendChild(this._overlay)\n\n    this._calculateZoom()\n    this._triggerAnimation()\n  }\n\n  Zoom.prototype._calculateZoom = function () {\n    this._targetImage.offsetWidth // repaint before animating\n\n    var originalFullImageWidth  = this._fullWidth\n    var originalFullImageHeight = this._fullHeight\n\n    var scrollTop = $(window).scrollTop()\n\n    var maxScaleFactor = originalFullImageWidth / this._targetImage.width\n\n    var viewportHeight = ($(window).height() - Zoom.OFFSET)\n    var viewportWidth  = ($(window).width() - Zoom.OFFSET)\n\n    var imageAspectRatio    = originalFullImageWidth / originalFullImageHeight\n    var viewportAspectRatio = viewportWidth / viewportHeight\n\n    if (originalFullImageWidth < viewportWidth && originalFullImageHeight < viewportHeight) {\n      this._imgScaleFactor = maxScaleFactor\n\n    } else if (imageAspectRatio < viewportAspectRatio) {\n      this._imgScaleFactor = (viewportHeight / originalFullImageHeight) * maxScaleFactor\n\n    } else {\n      this._imgScaleFactor = (viewportWidth / originalFullImageWidth) * maxScaleFactor\n    }\n  }\n\n  Zoom.prototype._triggerAnimation = function () {\n    this._targetImage.offsetWidth // repaint before animating\n\n    var imageOffset = $(this._targetImage).offset()\n    var scrollTop   = $(window).scrollTop()\n\n    var viewportY = scrollTop + ($(window).height() / 2)\n    var viewportX = ($(window).width() / 2)\n\n    var imageCenterY = imageOffset.top + (this._targetImage.height / 2)\n    var imageCenterX = imageOffset.left + (this._targetImage.width / 2)\n\n    this._translateY = Math.round(viewportY - imageCenterY)\n    this._translateX = Math.round(viewportX - imageCenterX)\n\n    var targetTransform = 'scale(' + this._imgScaleFactor + ')'\n    var imageWrapTransform = 'translate(' + this._translateX + 'px, ' + this._translateY + 'px)'\n\n    if ($.support.transition) {\n      imageWrapTransform += ' translateZ(0)'\n    }\n\n    $(this._targetImage)\n      .css({\n        '-webkit-transform': targetTransform,\n            '-ms-transform': targetTransform,\n                'transform': targetTransform\n      })\n\n    $(this._targetImageWrap)\n      .css({\n        '-webkit-transform': imageWrapTransform,\n            '-ms-transform': imageWrapTransform,\n                'transform': imageWrapTransform\n      })\n\n    this._$body.addClass('zoom-overlay-open')\n  }\n\n  Zoom.prototype.close = function () {\n    this._$body\n      .removeClass('zoom-overlay-open')\n      .addClass('zoom-overlay-transitioning')\n\n    // we use setStyle here so that the correct vender prefix for transform is used\n    $(this._targetImage)\n      .css({\n        '-webkit-transform': '',\n            '-ms-transform': '',\n                'transform': ''\n      })\n\n    $(this._targetImageWrap)\n      .css({\n        '-webkit-transform': '',\n            '-ms-transform': '',\n                'transform': ''\n      })\n\n    if (!$.support.transition) {\n      return this.dispose()\n    }\n\n    $(this._targetImage)\n      .one($.support.transition.end, $.proxy(this.dispose, this))\n      .emulateTransitionEnd(300)\n  }\n\n  Zoom.prototype.dispose = function () {\n    if (this._targetImageWrap && this._targetImageWrap.parentNode) {\n      $(this._targetImage)\n        .removeClass('zoom-img')\n        .attr('data-action', 'zoom')\n\n      this._targetImageWrap.parentNode.replaceChild(this._targetImage, this._targetImageWrap)\n      this._overlay.parentNode.removeChild(this._overlay)\n\n      this._$body.removeClass('zoom-overlay-transitioning')\n    }\n  }\n\n  // wait for dom ready (incase script included before body)\n  $(function () {\n    new ZoomService().listen()\n  })\n\n}(jQuery)","\n\n$(function() {\n  /////////////////////////////////////////////////////////////////////////////////////\n  // GEOLOCATION DETECTION\n  /////////////////////////////////////////////////////////////////////////////////////\n\t$(document).ready(function(){\n\n\t\tgetLocation();\n\t})\n\tvar x = document.getElementById(\"user_local\");\n\tfunction getLocation() {\n\t    if (navigator.geolocation) {\n\t        navigator.geolocation.getCurrentPosition(showPosition);\n\t    } else {\n\t        x.innerHTML = \"Geolocation is not supported by this browser.\";\n\t    }\n\t}\n\tfunction showPosition(position) {\n\n\t\t\t$(\".user_lat\").val(position.coords.latitude);\n\t\t\t$(\".user_long\").val(position.coords.longitude);\n\t}\n\n  /////////////////////////////////////////////////////////////////////////////////////\n  // GET REFERRAL URL\n  /////////////////////////////////////////////////////////////////////////////////////\n  //referrer url\n  $(\".ref_url\").val(document.referrer);\n\n  /////////////////////////////////////////////////////////////////////////////////////\n  // INIT STELLAR.JS FOR PARALLAX SCROLLING (http://markdalgleish.com/projects/stellar.js/docs/)\n  /////////////////////////////////////////////////////////////////////////////////////\n\n  $.stellar();\n\n  /////////////////////////////////////////////////////////////////////////////////////\n  // INIT SMOOTHSCROLL LIBRARY TO ANIMATE TO ANCHORS ON EVENT\n  /////////////////////////////////////////////////////////////////////////////////////\n\n  smoothScroll.init();\n\n  // SCROLL AND STICK NAVBAR\n  $(window).scroll(function () {\n    var scroll = $(window).scrollTop();\n    //console.log(scroll);\n    if (scroll >= 350) {\n      $(\".navbar\").removeClass(\"navbar-default\").addClass(\"navbar-fixed-top\");\n    } else {\n      $(\".navbar\").removeClass(\"navbar-fixed-top\").addClass(\"navbar-default\");\n    }\n  });\n\n\n  /////////////////////////////////////////////////////////////////////////////////////\n  // START STATAMIC CORE SCRIPTS (from Redwood theme)\n  /////////////////////////////////////////////////////////////////////////////////////\n\n  // Automatically add Zoom interaction\n  $('article.content img').attr('data-action', 'zoom');\n\n  // Make captions from Alt tags\n  $('img.captioned').each(function() {\n    var caption = $(this).attr('alt') || false;\n    if (caption) {\n      $(this).after('<p class=\"caption\">' + caption + '</p>');\n    }\n  });\n\n  // Auto focus on the giant search box\n  var search = $('input.giant.search');\n  search.focus().val(search.val());\n\n  // Fire up that gallery\n  $(window).load(function () {\n    collage();\n  });\n\n  // Anima\n\n  $('#nav-main .search').focus(function() {\n    $(this).addClass('grow');\n  }).blur(function() {\n    $(this).removeClass('grow');\n  });\n\n  // Reinitialize the gallery on browser resize.\n  var resizeTimer = null;\n  $(window).bind('resize', function() {\n    $('.gallery-images img').css(\"opacity\", 0);\n\n    if (resizeTimer) clearTimeout(resizeTimer);\n\n    resizeTimer = setTimeout(collage, 200);\n  });\n\n  function collage() {\n    $('.gallery-images').collagePlus({\n      'fadeSpeed' : 300\n    });\n  }\n  // END STATAMIC CORE SCRIPTS (from Redwood theme)\n});\n\n/////////////////////////////////////////////////////////////////////////////////////\n// MIN SCRIPTS\n/////////////////////////////////////////////////////////////////////////////////////\n\n/*! Stellar.js v0.6.2 | Copyright 2014, Mark Dalgleish | http://markdalgleish.com/projects/stellar.js | http://markdalgleish.mit-license.org */\n!function(a,b,c,d){function e(b,c){this.element=b,this.options=a.extend({},g,c),this._defaults=g,this._name=f,this.init()}var f=\"stellar\",g={scrollProperty:\"scroll\",positionProperty:\"position\",horizontalScrolling:!0,verticalScrolling:!0,horizontalOffset:0,verticalOffset:0,responsive:!1,parallaxBackgrounds:!0,parallaxElements:!0,hideDistantElements:!0,hideElement:function(a){a.hide()},showElement:function(a){a.show()}},h={scroll:{getLeft:function(a){return a.scrollLeft()},setLeft:function(a,b){a.scrollLeft(b)},getTop:function(a){return a.scrollTop()},setTop:function(a,b){a.scrollTop(b)}},position:{getLeft:function(a){return-1*parseInt(a.css(\"left\"),10)},getTop:function(a){return-1*parseInt(a.css(\"top\"),10)}},margin:{getLeft:function(a){return-1*parseInt(a.css(\"margin-left\"),10)},getTop:function(a){return-1*parseInt(a.css(\"margin-top\"),10)}},transform:{getLeft:function(a){var b=getComputedStyle(a[0])[k];return\"none\"!==b?-1*parseInt(b.match(/(-?[0-9]+)/g)[4],10):0},getTop:function(a){var b=getComputedStyle(a[0])[k];return\"none\"!==b?-1*parseInt(b.match(/(-?[0-9]+)/g)[5],10):0}}},i={position:{setLeft:function(a,b){a.css(\"left\",b)},setTop:function(a,b){a.css(\"top\",b)}},transform:{setPosition:function(a,b,c,d,e){a[0].style[k]=\"translate3d(\"+(b-c)+\"px, \"+(d-e)+\"px, 0)\"}}},j=function(){var b,c=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,d=a(\"script\")[0].style,e=\"\";for(b in d)if(c.test(b)){e=b.match(c)[0];break}return\"WebkitOpacity\"in d&&(e=\"Webkit\"),\"KhtmlOpacity\"in d&&(e=\"Khtml\"),function(a){return e+(e.length>0?a.charAt(0).toUpperCase()+a.slice(1):a)}}(),k=j(\"transform\"),l=a(\"<div />\",{style:\"background:#fff\"}).css(\"background-position-x\")!==d,m=l?function(a,b,c){a.css({\"background-position-x\":b,\"background-position-y\":c})}:function(a,b,c){a.css(\"background-position\",b+\" \"+c)},n=l?function(a){return[a.css(\"background-position-x\"),a.css(\"background-position-y\")]}:function(a){return a.css(\"background-position\").split(\" \")},o=b.requestAnimationFrame||b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||b.oRequestAnimationFrame||b.msRequestAnimationFrame||function(a){setTimeout(a,1e3/60)};e.prototype={init:function(){this.options.name=f+\"_\"+Math.floor(1e9*Math.random()),this._defineElements(),this._defineGetters(),this._defineSetters(),this._handleWindowLoadAndResize(),this._detectViewport(),this.refresh({firstLoad:!0}),\"scroll\"===this.options.scrollProperty?this._handleScrollEvent():this._startAnimationLoop()},_defineElements:function(){this.element===c.body&&(this.element=b),this.$scrollElement=a(this.element),this.$element=this.element===b?a(\"body\"):this.$scrollElement,this.$viewportElement=this.options.viewportElement!==d?a(this.options.viewportElement):this.$scrollElement[0]===b||\"scroll\"===this.options.scrollProperty?this.$scrollElement:this.$scrollElement.parent()},_defineGetters:function(){var a=this,b=h[a.options.scrollProperty];this._getScrollLeft=function(){return b.getLeft(a.$scrollElement)},this._getScrollTop=function(){return b.getTop(a.$scrollElement)}},_defineSetters:function(){var b=this,c=h[b.options.scrollProperty],d=i[b.options.positionProperty],e=c.setLeft,f=c.setTop;this._setScrollLeft=\"function\"==typeof e?function(a){e(b.$scrollElement,a)}:a.noop,this._setScrollTop=\"function\"==typeof f?function(a){f(b.$scrollElement,a)}:a.noop,this._setPosition=d.setPosition||function(a,c,e,f,g){b.options.horizontalScrolling&&d.setLeft(a,c,e),b.options.verticalScrolling&&d.setTop(a,f,g)}},_handleWindowLoadAndResize:function(){var c=this,d=a(b);c.options.responsive&&d.bind(\"load.\"+this.name,function(){c.refresh()}),d.bind(\"resize.\"+this.name,function(){c._detectViewport(),c.options.responsive&&c.refresh()})},refresh:function(c){var d=this,e=d._getScrollLeft(),f=d._getScrollTop();c&&c.firstLoad||this._reset(),this._setScrollLeft(0),this._setScrollTop(0),this._setOffsets(),this._findParticles(),this._findBackgrounds(),c&&c.firstLoad&&/WebKit/.test(navigator.userAgent)&&a(b).load(function(){var a=d._getScrollLeft(),b=d._getScrollTop();d._setScrollLeft(a+1),d._setScrollTop(b+1),d._setScrollLeft(a),d._setScrollTop(b)}),this._setScrollLeft(e),this._setScrollTop(f)},_detectViewport:function(){var a=this.$viewportElement.offset(),b=null!==a&&a!==d;this.viewportWidth=this.$viewportElement.width(),this.viewportHeight=this.$viewportElement.height(),this.viewportOffsetTop=b?a.top:0,this.viewportOffsetLeft=b?a.left:0},_findParticles:function(){{var b=this;this._getScrollLeft(),this._getScrollTop()}if(this.particles!==d)for(var c=this.particles.length-1;c>=0;c--)this.particles[c].$element.data(\"stellar-elementIsActive\",d);this.particles=[],this.options.parallaxElements&&this.$element.find(\"[data-stellar-ratio]\").each(function(){var c,e,f,g,h,i,j,k,l,m=a(this),n=0,o=0,p=0,q=0;if(m.data(\"stellar-elementIsActive\")){if(m.data(\"stellar-elementIsActive\")!==this)return}else m.data(\"stellar-elementIsActive\",this);b.options.showElement(m),m.data(\"stellar-startingLeft\")?(m.css(\"left\",m.data(\"stellar-startingLeft\")),m.css(\"top\",m.data(\"stellar-startingTop\"))):(m.data(\"stellar-startingLeft\",m.css(\"left\")),m.data(\"stellar-startingTop\",m.css(\"top\"))),f=m.position().left,g=m.position().top,h=\"auto\"===m.css(\"margin-left\")?0:parseInt(m.css(\"margin-left\"),10),i=\"auto\"===m.css(\"margin-top\")?0:parseInt(m.css(\"margin-top\"),10),k=m.offset().left-h,l=m.offset().top-i,m.parents().each(function(){var b=a(this);return b.data(\"stellar-offset-parent\")===!0?(n=p,o=q,j=b,!1):(p+=b.position().left,void(q+=b.position().top))}),c=m.data(\"stellar-horizontal-offset\")!==d?m.data(\"stellar-horizontal-offset\"):j!==d&&j.data(\"stellar-horizontal-offset\")!==d?j.data(\"stellar-horizontal-offset\"):b.horizontalOffset,e=m.data(\"stellar-vertical-offset\")!==d?m.data(\"stellar-vertical-offset\"):j!==d&&j.data(\"stellar-vertical-offset\")!==d?j.data(\"stellar-vertical-offset\"):b.verticalOffset,b.particles.push({$element:m,$offsetParent:j,isFixed:\"fixed\"===m.css(\"position\"),horizontalOffset:c,verticalOffset:e,startingPositionLeft:f,startingPositionTop:g,startingOffsetLeft:k,startingOffsetTop:l,parentOffsetLeft:n,parentOffsetTop:o,stellarRatio:m.data(\"stellar-ratio\")!==d?m.data(\"stellar-ratio\"):1,width:m.outerWidth(!0),height:m.outerHeight(!0),isHidden:!1})})},_findBackgrounds:function(){var b,c=this,e=this._getScrollLeft(),f=this._getScrollTop();this.backgrounds=[],this.options.parallaxBackgrounds&&(b=this.$element.find(\"[data-stellar-background-ratio]\"),this.$element.data(\"stellar-background-ratio\")&&(b=b.add(this.$element)),b.each(function(){var b,g,h,i,j,k,l,o=a(this),p=n(o),q=0,r=0,s=0,t=0;if(o.data(\"stellar-backgroundIsActive\")){if(o.data(\"stellar-backgroundIsActive\")!==this)return}else o.data(\"stellar-backgroundIsActive\",this);o.data(\"stellar-backgroundStartingLeft\")?m(o,o.data(\"stellar-backgroundStartingLeft\"),o.data(\"stellar-backgroundStartingTop\")):(o.data(\"stellar-backgroundStartingLeft\",p[0]),o.data(\"stellar-backgroundStartingTop\",p[1])),h=\"auto\"===o.css(\"margin-left\")?0:parseInt(o.css(\"margin-left\"),10),i=\"auto\"===o.css(\"margin-top\")?0:parseInt(o.css(\"margin-top\"),10),j=o.offset().left-h-e,k=o.offset().top-i-f,o.parents().each(function(){var b=a(this);return b.data(\"stellar-offset-parent\")===!0?(q=s,r=t,l=b,!1):(s+=b.position().left,void(t+=b.position().top))}),b=o.data(\"stellar-horizontal-offset\")!==d?o.data(\"stellar-horizontal-offset\"):l!==d&&l.data(\"stellar-horizontal-offset\")!==d?l.data(\"stellar-horizontal-offset\"):c.horizontalOffset,g=o.data(\"stellar-vertical-offset\")!==d?o.data(\"stellar-vertical-offset\"):l!==d&&l.data(\"stellar-vertical-offset\")!==d?l.data(\"stellar-vertical-offset\"):c.verticalOffset,c.backgrounds.push({$element:o,$offsetParent:l,isFixed:\"fixed\"===o.css(\"background-attachment\"),horizontalOffset:b,verticalOffset:g,startingValueLeft:p[0],startingValueTop:p[1],startingBackgroundPositionLeft:isNaN(parseInt(p[0],10))?0:parseInt(p[0],10),startingBackgroundPositionTop:isNaN(parseInt(p[1],10))?0:parseInt(p[1],10),startingPositionLeft:o.position().left,startingPositionTop:o.position().top,startingOffsetLeft:j,startingOffsetTop:k,parentOffsetLeft:q,parentOffsetTop:r,stellarRatio:o.data(\"stellar-background-ratio\")===d?1:o.data(\"stellar-background-ratio\")})}))},_reset:function(){var a,b,c,d,e;for(e=this.particles.length-1;e>=0;e--)a=this.particles[e],b=a.$element.data(\"stellar-startingLeft\"),c=a.$element.data(\"stellar-startingTop\"),this._setPosition(a.$element,b,b,c,c),this.options.showElement(a.$element),a.$element.data(\"stellar-startingLeft\",null).data(\"stellar-elementIsActive\",null).data(\"stellar-backgroundIsActive\",null);for(e=this.backgrounds.length-1;e>=0;e--)d=this.backgrounds[e],d.$element.data(\"stellar-backgroundStartingLeft\",null).data(\"stellar-backgroundStartingTop\",null),m(d.$element,d.startingValueLeft,d.startingValueTop)},destroy:function(){this._reset(),this.$scrollElement.unbind(\"resize.\"+this.name).unbind(\"scroll.\"+this.name),this._animationLoop=a.noop,a(b).unbind(\"load.\"+this.name).unbind(\"resize.\"+this.name)},_setOffsets:function(){var c=this,d=a(b);d.unbind(\"resize.horizontal-\"+this.name).unbind(\"resize.vertical-\"+this.name),\"function\"==typeof this.options.horizontalOffset?(this.horizontalOffset=this.options.horizontalOffset(),d.bind(\"resize.horizontal-\"+this.name,function(){c.horizontalOffset=c.options.horizontalOffset()})):this.horizontalOffset=this.options.horizontalOffset,\"function\"==typeof this.options.verticalOffset?(this.verticalOffset=this.options.verticalOffset(),d.bind(\"resize.vertical-\"+this.name,function(){c.verticalOffset=c.options.verticalOffset()})):this.verticalOffset=this.options.verticalOffset},_repositionElements:function(){var a,b,c,d,e,f,g,h,i,j,k=this._getScrollLeft(),l=this._getScrollTop(),n=!0,o=!0;if(this.currentScrollLeft!==k||this.currentScrollTop!==l||this.currentWidth!==this.viewportWidth||this.currentHeight!==this.viewportHeight){for(this.currentScrollLeft=k,this.currentScrollTop=l,this.currentWidth=this.viewportWidth,this.currentHeight=this.viewportHeight,j=this.particles.length-1;j>=0;j--)a=this.particles[j],b=a.isFixed?1:0,this.options.horizontalScrolling?(f=(k+a.horizontalOffset+this.viewportOffsetLeft+a.startingPositionLeft-a.startingOffsetLeft+a.parentOffsetLeft)*-(a.stellarRatio+b-1)+a.startingPositionLeft,h=f-a.startingPositionLeft+a.startingOffsetLeft):(f=a.startingPositionLeft,h=a.startingOffsetLeft),this.options.verticalScrolling?(g=(l+a.verticalOffset+this.viewportOffsetTop+a.startingPositionTop-a.startingOffsetTop+a.parentOffsetTop)*-(a.stellarRatio+b-1)+a.startingPositionTop,i=g-a.startingPositionTop+a.startingOffsetTop):(g=a.startingPositionTop,i=a.startingOffsetTop),this.options.hideDistantElements&&(o=!this.options.horizontalScrolling||h+a.width>(a.isFixed?0:k)&&h<(a.isFixed?0:k)+this.viewportWidth+this.viewportOffsetLeft,n=!this.options.verticalScrolling||i+a.height>(a.isFixed?0:l)&&i<(a.isFixed?0:l)+this.viewportHeight+this.viewportOffsetTop),o&&n?(a.isHidden&&(this.options.showElement(a.$element),a.isHidden=!1),this._setPosition(a.$element,f,a.startingPositionLeft,g,a.startingPositionTop)):a.isHidden||(this.options.hideElement(a.$element),a.isHidden=!0);for(j=this.backgrounds.length-1;j>=0;j--)c=this.backgrounds[j],b=c.isFixed?0:1,d=this.options.horizontalScrolling?(k+c.horizontalOffset-this.viewportOffsetLeft-c.startingOffsetLeft+c.parentOffsetLeft-c.startingBackgroundPositionLeft)*(b-c.stellarRatio)+\"px\":c.startingValueLeft,e=this.options.verticalScrolling?(l+c.verticalOffset-this.viewportOffsetTop-c.startingOffsetTop+c.parentOffsetTop-c.startingBackgroundPositionTop)*(b-c.stellarRatio)+\"px\":c.startingValueTop,m(c.$element,d,e)}},_handleScrollEvent:function(){var a=this,b=!1,c=function(){a._repositionElements(),b=!1},d=function(){b||(o(c),b=!0)};this.$scrollElement.bind(\"scroll.\"+this.name,d),d()},_startAnimationLoop:function(){var a=this;this._animationLoop=function(){o(a._animationLoop),a._repositionElements()},this._animationLoop()}},a.fn[f]=function(b){var c=arguments;return b===d||\"object\"==typeof b?this.each(function(){a.data(this,\"plugin_\"+f)||a.data(this,\"plugin_\"+f,new e(this,b))}):\"string\"==typeof b&&\"_\"!==b[0]&&\"init\"!==b?this.each(function(){var d=a.data(this,\"plugin_\"+f);d instanceof e&&\"function\"==typeof d[b]&&d[b].apply(d,Array.prototype.slice.call(c,1)),\"destroy\"===b&&a.data(this,\"plugin_\"+f,null)}):void 0},a[f]=function(){var c=a(b);return c.stellar.apply(c,Array.prototype.slice.call(arguments,0))},a[f].scrollProperty=h,a[f].positionProperty=i,b.Stellar=e}(jQuery,this,document);\n\n/*! smooth-scroll v11.1.0 | (c) 2017 Chris Ferdinandi | GPL-3.0 License | http://github.com/cferdinandi/smooth-scroll */\n!(function(e,t){\"function\"==typeof define&&define.amd?define([],t(e)):\"object\"==typeof exports?module.exports=t(e):e.smoothScroll=t(e)})(\"undefined\"!=typeof global?global:this.window||this.global,(function(e){\"use strict\";var t,n,o,r,a,i,c,l={},s=\"querySelector\"in document&&\"addEventListener\"in e,u={selector:\"[data-scroll]\",ignore:\"[data-scroll-ignore]\",selectorHeader:null,speed:500,offset:0,easing:\"easeInOutCubic\",easingPatterns:{},before:function(){},after:function(){}},f=function(){var e={},t=!1,n=0,o=arguments.length;\"[object Boolean]\"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],n++);for(;n<o;n++){var r=arguments[n];!(function(n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t&&\"[object Object]\"===Object.prototype.toString.call(n[o])?e[o]=f(!0,e[o],n[o]):e[o]=n[o])})(r)}return e},d=function(e){return Math.max(e.scrollHeight,e.offsetHeight,e.clientHeight)},h=function(e,t){for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1});e&&e!==document;e=e.parentNode)if(e.matches(t))return e;return null},m=function(e){\"#\"===e.charAt(0)&&(e=e.substr(1));for(var t,n=String(e),o=n.length,r=-1,a=\"\",i=n.charCodeAt(0);++r<o;){if(0===(t=n.charCodeAt(r)))throw new InvalidCharacterError(\"Invalid character: the input contains U+0000.\");t>=1&&t<=31||127==t||0===r&&t>=48&&t<=57||1===r&&t>=48&&t<=57&&45===i?a+=\"\\\\\"+t.toString(16)+\" \":a+=t>=128||45===t||95===t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122?n.charAt(r):\"\\\\\"+n.charAt(r)}return\"#\"+a},g=function(e,t){var n;return\"easeInQuad\"===e.easing&&(n=t*t),\"easeOutQuad\"===e.easing&&(n=t*(2-t)),\"easeInOutQuad\"===e.easing&&(n=t<.5?2*t*t:(4-2*t)*t-1),\"easeInCubic\"===e.easing&&(n=t*t*t),\"easeOutCubic\"===e.easing&&(n=--t*t*t+1),\"easeInOutCubic\"===e.easing&&(n=t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1),\"easeInQuart\"===e.easing&&(n=t*t*t*t),\"easeOutQuart\"===e.easing&&(n=1- --t*t*t*t),\"easeInOutQuart\"===e.easing&&(n=t<.5?8*t*t*t*t:1-8*--t*t*t*t),\"easeInQuint\"===e.easing&&(n=t*t*t*t*t),\"easeOutQuint\"===e.easing&&(n=1+--t*t*t*t*t),\"easeInOutQuint\"===e.easing&&(n=t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t),e.easingPatterns[e.easing]&&(n=e.easingPatterns[e.easing](t)),n||t},p=function(e,t,n){var o=0;if(e.offsetParent)do{o+=e.offsetTop,e=e.offsetParent}while(e);return o=Math.max(o-t-n,0),Math.min(o,y()-b())},b=function(){return Math.max(document.documentElement.clientHeight,e.innerHeight||0)},y=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},v=function(e){return e&&\"object\"==typeof JSON&&\"function\"==typeof JSON.parse?JSON.parse(e):{}},O=function(e){return e?d(e)+e.offsetTop:0},S=function(t,n,o){o||(t.focus(),document.activeElement.id!==t.id&&(t.setAttribute(\"tabindex\",\"-1\"),t.focus(),t.style.outline=\"none\"),e.scrollTo(0,n))};l.animateScroll=function(n,o,i){var l=v(o?o.getAttribute(\"data-options\"):null),s=f(t||u,i||{},l),d=\"[object Number]\"===Object.prototype.toString.call(n),h=d||!n.tagName?null:n;if(d||h){var m=e.pageYOffset;s.selectorHeader&&!r&&(r=document.querySelector(s.selectorHeader)),a||(a=O(r));var b,E,I=d?n:p(h,a,parseInt(\"function\"==typeof s.offset?s.offset():s.offset,10)),H=I-m,A=y(),j=0,C=function(t,r,a){var i=e.pageYOffset;(t==r||i==r||e.innerHeight+i>=A)&&(clearInterval(a),S(n,r,d),s.after(n,o))},M=function(){j+=16,b=j/parseInt(s.speed,10),b=b>1?1:b,E=m+H*g(s,b),e.scrollTo(0,Math.floor(E)),C(E,I,c)};0===e.pageYOffset&&e.scrollTo(0,0),s.before(n,o),(function(){clearInterval(c),c=setInterval(M,16)})()}};var E=function(t){try{m(decodeURIComponent(e.location.hash))}catch(t){m(e.location.hash)}n&&(n.id=n.getAttribute(\"data-scroll-id\"),l.animateScroll(n,o),n=null,o=null)},I=function(r){if(0===r.button&&!r.metaKey&&!r.ctrlKey&&(o=h(r.target,t.selector))&&\"a\"===o.tagName.toLowerCase()&&!h(r.target,t.ignore)&&o.hostname===e.location.hostname&&o.pathname===e.location.pathname&&/#/.test(o.href)){var a;try{a=m(decodeURIComponent(o.hash))}catch(e){a=m(o.hash)}if(\"#\"===a){r.preventDefault(),n=document.body;var i=n.id?n.id:\"smooth-scroll-top\";return n.setAttribute(\"data-scroll-id\",i),n.id=\"\",void(e.location.hash.substring(1)===i?E():e.location.hash=i)}n=document.querySelector(a),n&&(n.setAttribute(\"data-scroll-id\",n.id),n.id=\"\",o.hash===e.location.hash&&(r.preventDefault(),E()))}},H=function(e){i||(i=setTimeout((function(){i=null,a=O(r)}),66))};return l.destroy=function(){t&&(document.removeEventListener(\"click\",I,!1),e.removeEventListener(\"resize\",H,!1),t=null,n=null,o=null,r=null,a=null,i=null,c=null)},l.init=function(n){s&&(l.destroy(),t=f(u,n||{}),r=t.selectorHeader?document.querySelector(t.selectorHeader):null,a=O(r),document.addEventListener(\"click\",I,!1),e.addEventListener(\"hashchange\",E,!1),r&&e.addEventListener(\"resize\",H,!1))},l}));\n\n// Ridiculously Responsive Social Sharing Buttons\n+function(t,e,r){\"use strict\";var i={calc:!1};e.fn.rrssb=function(t){var i=e.extend({description:r,emailAddress:r,emailBody:r,emailSubject:r,image:r,title:r,url:r},t);i.emailSubject=i.emailSubject||i.title,i.emailBody=i.emailBody||(i.description?i.description:\"\")+(i.url?\"\\n\\n\"+i.url:\"\");for(var s in i)i.hasOwnProperty(s)&&i[s]!==r&&(i[s]=a(i[s]));i.url!==r&&(e(this).find(\".rrssb-facebook a\").attr(\"href\",\"https://www.facebook.com/sharer/sharer.php?u=\"+i.url),e(this).find(\".rrssb-tumblr a\").attr(\"href\",\"http://tumblr.com/share/link?url=\"+i.url+(i.title!==r?\"&name=\"+i.title:\"\")+(i.description!==r?\"&description=\"+i.description:\"\")),e(this).find(\".rrssb-linkedin a\").attr(\"href\",\"http://www.linkedin.com/shareArticle?mini=true&url=\"+i.url+(i.title!==r?\"&title=\"+i.title:\"\")+(i.description!==r?\"&summary=\"+i.description:\"\")),e(this).find(\".rrssb-twitter a\").attr(\"href\",\"https://twitter.com/intent/tweet?text=\"+(i.description!==r?i.description:\"\")+\"%20\"+i.url),e(this).find(\".rrssb-hackernews a\").attr(\"href\",\"https://news.ycombinator.com/submitlink?u=\"+i.url+(i.title!==r?\"&text=\"+i.title:\"\")),e(this).find(\".rrssb-vk a\").attr(\"href\",\"https://vk.com/share.php?url=\"+i.url),e(this).find(\".rrssb-reddit a\").attr(\"href\",\"http://www.reddit.com/submit?url=\"+i.url+(i.description!==r?\"&text=\"+i.description:\"\")+(i.title!==r?\"&title=\"+i.title:\"\")),e(this).find(\".rrssb-googleplus a\").attr(\"href\",\"https://plus.google.com/share?url=\"+i.url),e(this).find(\".rrssb-pinterest a\").attr(\"href\",\"http://pinterest.com/pin/create/button/?url=\"+i.url+(i.image!==r?\"&amp;media=\"+i.image:\"\")+(i.description!==r?\"&description=\"+i.description:\"\")),e(this).find(\".rrssb-pocket a\").attr(\"href\",\"https://getpocket.com/save?url=\"+i.url),e(this).find(\".rrssb-github a\").attr(\"href\",i.url),e(this).find(\".rrssb-print a\").attr(\"href\",\"javascript:window.print()\"),e(this).find(\".rrssb-whatsapp a\").attr(\"href\",\"whatsapp://send?text=\"+(i.description!==r?i.description+\"%20\":i.title!==r?i.title+\"%20\":\"\")+i.url)),(i.emailAddress!==r||i.emailSubject)&&e(this).find(\".rrssb-email a\").attr(\"href\",\"mailto:\"+(i.emailAddress?i.emailAddress:\"\")+\"?\"+(i.emailSubject!==r?\"subject=\"+i.emailSubject:\"\")+(i.emailBody!==r?\"&body=\"+i.emailBody:\"\"))};var s=function(){var t=e(\"<div>\"),r=[\"calc\",\"-webkit-calc\",\"-moz-calc\"];e(\"body\").append(t);for(var s=0;s<r.length;s++)if(t.css(\"width\",r[s]+\"(1px)\"),1===t.width()){i.calc=r[s];break}t.remove()},a=function(t){if(t!==r&&null!==t){if(null===t.match(/%[0-9a-f]{2}/i))return encodeURIComponent(t);t=decodeURIComponent(t),a(t)}},n=function(){e(\".rrssb-buttons\").each(function(t){var r=e(this),i=e(\"li:visible\",r),s=i.length,a=100/s;i.css(\"width\",a+\"%\").attr(\"data-initwidth\",a)})},l=function(){e(\".rrssb-buttons\").each(function(t){var r=e(this),i=r.width(),s=e(\"li\",r).not(\".small\").eq(0).width(),a=e(\"li.small\",r).length;if(s>170&&a<1){r.addClass(\"large-format\");var n=s/12+\"px\";r.css(\"font-size\",n)}else r.removeClass(\"large-format\"),r.css(\"font-size\",\"\");i<25*a?r.removeClass(\"small-format\").addClass(\"tiny-format\"):r.removeClass(\"tiny-format\")})},o=function(){e(\".rrssb-buttons\").each(function(t){var r=e(this),i=e(\"li\",r),s=i.filter(\".small\"),a=0,n=0,l=s.eq(0),o=parseFloat(l.attr(\"data-size\"))+55,c=s.length;if(c===i.length){var d=42*c,u=r.width();d+o<u&&(r.removeClass(\"small-format\"),s.eq(0).removeClass(\"small\"),h())}else{i.not(\".small\").each(function(t){var r=e(this),i=parseFloat(r.attr(\"data-size\"))+55,s=parseFloat(r.width());a+=s,n+=i});var m=a-n;o<m&&(l.removeClass(\"small\"),h())}})},c=function(t){e(\".rrssb-buttons\").each(function(t){var r=e(this),i=e(\"li\",r);e(i.get().reverse()).each(function(t,r){var s=e(this);if(s.hasClass(\"small\")===!1){var a=parseFloat(s.attr(\"data-size\"))+55,n=parseFloat(s.width());if(a>n){var l=i.not(\".small\").last();e(l).addClass(\"small\"),h()}}--r||o()})}),t===!0&&u(h)},h=function(){e(\".rrssb-buttons\").each(function(t){var r,s,a,l,o,c=e(this),h=e(\"li\",c),d=h.filter(\".small\"),u=d.length;u>0&&u!==h.length?(c.removeClass(\"small-format\"),d.css(\"width\",\"42px\"),a=42*u,r=h.not(\".small\").length,s=100/r,o=a/r,i.calc===!1?(l=(c.innerWidth()-1)/r-o,l=Math.floor(1e3*l)/1e3,l+=\"px\"):l=i.calc+\"(\"+s+\"% - \"+o+\"px)\",h.not(\".small\").css(\"width\",l)):u===h.length?(c.addClass(\"small-format\"),n()):(c.removeClass(\"small-format\"),n())}),l()},d=function(){e(\".rrssb-buttons\").each(function(t){e(this).addClass(\"rrssb-\"+(t+1))}),s(),n(),e(\".rrssb-buttons li .rrssb-text\").each(function(t){var r=e(this),i=r.width();r.closest(\"li\").attr(\"data-size\",i)}),c(!0)},u=function(t){e(\".rrssb-buttons li.small\").removeClass(\"small\"),c(),t()},m=function(e,i,s,a){var n=t.screenLeft!==r?t.screenLeft:screen.left,l=t.screenTop!==r?t.screenTop:screen.top,o=t.innerWidth?t.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,c=t.innerHeight?t.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,h=o/2-s/2+n,d=c/3-a/3+l,u=t.open(e,i,\"scrollbars=yes, width=\"+s+\", height=\"+a+\", top=\"+d+\", left=\"+h);u&&u.focus&&u.focus()},f=function(){var t={};return function(e,r,i){i||(i=\"Don't call this twice without a uniqueId\"),t[i]&&clearTimeout(t[i]),t[i]=setTimeout(e,r)}}();e(document).ready(function(){try{e(document).on(\"click\",\".rrssb-buttons a.popup\",{},function(t){var r=e(this);m(r.attr(\"href\"),r.find(\".rrssb-text\").html(),580,470),t.preventDefault()})}catch(t){}e(t).resize(function(){u(h),f(function(){u(h)},200,\"finished resizing\")}),d()}),t.rrssbInit=d}(window,jQuery);\n"]}